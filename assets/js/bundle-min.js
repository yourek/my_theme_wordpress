!function(y){"use strict";const e={init(){this.dom(),this.scroll(),this.mobileMenu(),this.departmentMenu(),this.stickyHeader(),this.searchHolder(),this.categoriesHolder(),this.siteSlider(),this.siteCountdown(),this.stickySidebar(),this.hoverSlider(),this.sidebarFilter(),this.productQuantity(),this.productShare(),this.productQuickview(),this.gdprCookie(),this.newsletterPopup(),this.stickyProduct(),this.sizeGuide(),this.userAvatar()},dom(){this.overlay=document.querySelector(".site-mask")},scroll(){for(var e=document.querySelectorAll(".site-scroll"),t=0;t<e.length;t++){const s=new PerfectScrollbar(e[t],{suppressScrollX:!0,wheelPropagation:!0});s.update()}},mobileMenu(){var e=document.querySelector(".site-offcanvas");if(null!=e||null!==this.overlay){let t=gsap.timeline({paused:!0,reversed:!0});t.set(e,{autoAlpha:1}).to(e,.5,{x:0,ease:"power4.inOut"}).to(this.overlay,.5,{autoAlpha:1,ease:"power4.inOut"},"-=.5");var s=document.querySelectorAll(".toggle-menu");const i=document.querySelector(".offcanvas-close"),n=document.querySelector(".site-mask");if(null!==s)for(var o=0;o<s.length;o++){const c=s[o];c.addEventListener("click",e=>{e.preventDefault(),t.play()})}i.addEventListener("click",e=>{e.preventDefault(),t.reverse(1.5)}),n.addEventListener("click",e=>{e.preventDefault(),t.reverse(1.5)});const l=document.querySelectorAll(".site-offcanvas .menu-item-has-children");for(var r=e=>{let t,s=(t="A"===e.target.tagName?(e.preventDefault(),e.target.nextElementSibling):e.target.previousElementSibling,e.target.closest("ul")),o=e.target.closest("li"),r=s.querySelectorAll(".menu-item-has-children.active");const a=()=>{for(var e=0;e<r.length;e++){const s=r[e].children[1];for(var t=s.querySelectorAll(".sub-menu"),e=0;e<t.length;e++)null!=t[e]&&gsap.set(t[e],{height:0})}};var i=(e,t)=>{gsap.to(e,{duration:.4,height:t,ease:"power4.inOut",onComplete:a})};if(o.classList.contains("active"))o.classList.remove("active"),i(t,0);else{for(var n=0;n<r.length;n++)r[n].classList.remove("active"),i(r[n].children[1],0);o.classList.add("active"),i(t,"auto")}},o=0;o<l.length;o++){const d=document.createElement("span"),u=(d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>',d.className="menu-dropdown",l[o].appendChild(d),l[o].querySelector('a[href*="#"]'));var a=l[o].children[1];gsap.set(a,{height:0}),d.addEventListener("click",r),u.addEventListener("click",r)}}},departmentMenu(){const e=document.querySelectorAll(".site-departments");null!==e&&e.forEach(e=>{const t=e.querySelector(".departments-menu .menu");if(null!==t)for(var s,o=t.querySelectorAll(".menu-item-has-children"),r=0;r<o.length;r++){const a=o[r].lastElementChild;if(a.classList.contains("sub-menu")){const i=a.parentNode;i.classList.contains("has-image")&&(s=a.offsetWidth,a.style.width=s+s/1.5+"px")}}})},stickyHeader(){const e=document.querySelector(".site-header");if(e.classList.contains("header-sticky-enable")){window.onscroll=function(){o()};var t=e.offsetHeight+100,s=e.offsetTop+t;const o=()=>{window.pageYOffset>s?(e.classList.add("sticky-active"),document.body.classList.add("header-sticky-active")):(e.classList.remove("sticky-active"),document.body.classList.remove("header-sticky-active"))}}},searchHolder(){const e=document.querySelector(".site-header"),s=document.querySelectorAll(".search-button"),o=document.querySelector(".search-holder"),r=document.querySelector(".search-holder-close");if(null!=o){let t=!0;const n=o.querySelector(".search-holder-inner");var a=()=>{n.style.paddingTop=e.offsetHeight+"px"};if(window.addEventListener("load",a),window.addEventListener("resize",a),t&&null!==s)for(var i=0;i<s.length;i++)s[i].addEventListener("click",e=>{e.preventDefault(),document.body.classList.toggle("search-active"),t=!1},!1);r.addEventListener("click",e=>{e.preventDefault(),t||document.body.classList.contains("search-active")&&document.body.classList.remove("search-active"),t=!0},!1)}},categoriesHolder(){const e=document.querySelectorAll(".categories-button");var t=document.querySelector(".categories-holder");let s=!0;if(null!=t&&s&&null!==e)for(var o=0;o<e.length;o++)e[o].addEventListener("click",e=>{e.preventDefault(),document.body.classList.toggle("categories-active"),s=!1},!1)},siteSlider(){var e=document.querySelectorAll(".site-slider");if(null!==e)for(var t=0;t<e.length;t++){const h=e[t];var s=parseInt(h.dataset.desktop),o=parseInt(h.dataset.tablet),r=parseInt(h.dataset.mobile),a=parseInt(h.dataset.speed),i="true"===h.dataset.loop,n=parseInt(h.dataset.gutter),l="true"===h.dataset.autoplay,c=parseInt(h.dataset.autospeed),d="true"===h.dataset.autostop,u="true"===h.dataset.nav,p="true"===h.dataset.dots,v="true"===h.dataset.dotsdata;if(y(h).owlCarousel({loop:i,dots:p,dotsData:v,nav:u,smartSpeed:a,margin:n,responsiveClass:!0,autoplay:l,autoplayTimeout:c,autoplayHoverPause:d,navText:['<i class="klbth-icon-left-open-big"></i>','<i class="klbth-icon-right-open-big"></i>'],responsive:{0:{items:r,nav:!1},480:{items:r,nav:!1},768:{items:o},1024:{items:o},1200:{items:s}}}),!0==u){const m=h.querySelectorAll("img");imagesLoaded(m,()=>{h.classList.add("images-loaded");for(var e=0;e<m.length;e++){var t=m[e].clientHeight;const s=h.querySelector(".owl-prev"),o=h.querySelector(".owl-next");s.style.top=t/2-12+"px",o.style.top=t/2-12+"px"}})}}},siteCountdown(){var e=document.querySelectorAll(".countdown");if(null!==e)for(var t=0;t<e.length;t++){const n=e[t];var s=n.dataset.date;const l=n.dataset.text;let a=new Date(s).getTime();const c=n.querySelector(".days"),d=n.querySelector(".hours"),u=n.querySelector(".minutes"),p=n.querySelector(".second");var i=setInterval(function(){var e=(new Date).getTime(),e=a-e,t=Math.floor(e/864e5),s=Math.floor(e%864e5/36e5),o=Math.floor(e%36e5/6e4),r=Math.floor(e%6e4/1e3);c.innerHTML=("0"+t).slice(-2),d.innerHTML=("0"+s).slice(-2),u.innerHTML=("0"+o).slice(-2),p.innerHTML=("0"+r).slice(-2),e<0&&(clearInterval(i),console.log("expired"),n.innerHTML='<div class="expired">'+l+"</div>")},1e3)}},stickySidebar(){var e=document.querySelectorAll(".sticky");if(null!==e)for(var t=0;t<e.length;t++)y(e).theiaStickySidebar({additionalMarginTop:30})},hoverSlider(){window.hoverSliderOptions={touch:"end",preloadImages:!0},hoverSlider.init({}),hoverSlider.prepareMarkup()},sidebarFilter(){var e=y(".filtered-sidebar"),t=y(".filter-button"),s=y(".site-mask"),o=y(".close-sidebar"),r=gsap.timeline({paused:!0,reversed:!0});r.set(e,{autoAlpha:1}).to(e,.5,{x:0,ease:"power4.inOut"}).to(s,.5,{autoAlpha:1,ease:"power4.inOut"},"-=.5"),t.on("click",function(e){e.preventDefault(),s.addClass("active"),r.reversed()?r.play():r.reverse()}),o.on("click",function(e){e.preventDefault(),r.reverse(),setTimeout(function(){s.removeClass("active")},1e3)})},productQuantity(){function e(){y(".quantity:not(.ajax-quantity)").each(function(){var i=y(this);y(this).find(".quantity-button").each(function(){y(this).on("click",function(e){var t,s,o,r,a=i.find(".input-text.qty");y(a).prop("disabled")||(t=parseFloat(y(a).attr("step")),s=parseFloat(y(a).attr("min")),o=parseFloat(y(a).attr("max")),y(this).hasClass("minus")?(r=(r=parseFloat(y(a).val()))-t<s?s:r-t,y(a).val(r)):y(this).hasClass("plus")&&(r=o<(r=parseFloat(y(a).val()))+t?o:r+t,y(a).val(r)),a.trigger("change"))})})})}e(),y("body").on("updated_cart_totals",e)},productShare(){const e=document.querySelector(".product-extra-buttons .share-product"),t=document.querySelector(".product-share-holder .share-close"),s=document.querySelector(".product-share-holder"),o=document.querySelector(".share-link-input"),r=document.querySelector(".copy-link .link-value"),a=document.querySelector(".copy-link p .copied");null!==e&&(e.addEventListener("click",function(e){e.preventDefault(),s.classList.add("active")}),null!==t&&t.addEventListener("click",function(e){e.preventDefault(),s.classList.remove("active")}),null!==o&&r.addEventListener("click",()=>{console.log("copy"),o.select(),o.setSelectionRange(0,99999),navigator.clipboard.writeText(o.value),a.classList.add("active")}))},productQuickview(){var e=document.querySelectorAll(".quick-view-button");if(null!==e)for(var t=0;t<e.length;t++){var s=e[t];y(s).magnificPopup({type:"inline",callbacks:{open:function(){const e=this.content;imagesLoaded(e,()=>{setTimeout(function(){e.addClass("loaded")},300)})},close:function(){this.content.removeClass("loaded")}}})}},gdprCookie(){const e=y("body");var t=y(".gdpr-content"),s=y(".gdpr-content .btn"),o=t.data("expires");const r=gsap.timeline({paused:!0,reversed:!0});r.to(t,{duration:.6,opacity:1,visibility:"visible",y:0,ease:"power4.inOut"}),e.hasClass("cookie-popup-enable")&&!Cookies.get("cookie-popup-visible")&&window.addEventListener("DOMContentLoaded",e=>{r.play(),t.addClass("active")}),s.on("click",function(e){e.preventDefault(),Cookies.set("cookie-popup-visible","disable",{expires:o,path:"/"}),r.reverse(),t.removeClass("active")})},newsletterPopup(){const e=y("body");var t=y(".newsletter-popup"),s=y(".newsletter-popup .btn, .newsletter-popup .newsletter-close"),o=t.data("expires");const r=gsap.timeline({paused:!0,reversed:!0});r.to(t,{duration:.6,opacity:1,visibility:"visible",y:0,ease:"power4.inOut"}),e.hasClass("newsletter-popup-enable")&&!Cookies.get("newsletter-popup-visible")&&window.addEventListener("scroll",function(){50<=window.scrollY&&(r.play(),t.addClass("active"))}),s.on("click",function(e){e.preventDefault(),Cookies.set("newsletter-popup-visible","disable",{expires:o,path:"/"}),r.reverse(),t.removeClass("active")})},stickyProduct(){const t=document.querySelector(".single-product-sticky");if(null!==t){document.body.classList.add("single-product-sticky-enable"),window.onscroll=function(){s()};let e=document.querySelector(".single-product").offsetTop;const s=()=>{window.pageYOffset>e?t.classList.add("sticky-active"):t.classList.remove("sticky-active")}}else document.body.classList.remove("single-product-sticky-enable")},sizeGuide(){const e=document.querySelector(".size-box"),t=document.querySelector(".size-box-holder"),s=document.querySelector(".size-box-holder .size-box-close"),o=document.querySelector(".size-box-holder .size-box-mask");null!==t&&(null!==e&&e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("active")}),s.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("active")}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("active")}))},userAvatar(){const e=document.querySelector(".user-detail");if(null!==e){const t=e.querySelector(".user-avatar"),s=e.querySelector(".entry-name").innerText,o=s.split(" "),r=o.shift().charAt(0)+o.pop().charAt(0);t.innerHTML=r.toUpperCase()}}};e.init()}(jQuery);
//# sourceMappingURL=dist/bundle-min.js.map
